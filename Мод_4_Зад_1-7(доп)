/*«адание 1. —оздайте новую таблицу film_new со следующими пол€ми:
Ј film_name Ч название фильма Ч тип данных varchar(255) и ограничение not null;
Ј film_year Ч год выпуска фильма Ч тип данных integer, условие, что значение должно быть больше 0;
Ј film_rental_rate Ч стоимость аренды фильма Ч тип данных numeric(4,2), значение по умолчанию 0.99;
Ј film_duration Ч длительность фильма в минутах Ч тип данных integer, ограничение not null и условие, что значение должно быть больше 0*/

create table film_new (
	film_name varchar(50) not null,
	film_year int4 check (film_year>0),
	film_rental_rate numeric(4,2) default 0.99,
	film_duration int4 not null check (film_duration>0)
);

/*«адание 2. «аполните таблицу film_new данными с помощью SQL-запроса, где колонкам соответствуют массивы данных:
Ј film_name Ч array[The Shawshank Redemption, The Green Mile, Back to the Future, Forrest Gump, SchindlerТs List];
Ј film_year Ч array[1994, 1999, 1985, 1994, 1993];
Ј film_rental_rate Ч array[2.99, 0.99, 1.99, 2.99, 3.99];
Ј film_duration Ч array[142, 189, 116, 142, 195]*/

insert into film_new
select unnest (array['The Shawshank Redemption', 'The Green Mile', 'Back to the Future', 'Forrest Gump', 'SchindlerТs List']),
		unnest (array[1994, 1999, 1985, 1994, 1993]),
		unnest (array[2.99, 0.99, 1.99, 2.99, 3.99]),
		unnest (array[142, 189, 116, 142, 195])
;

/*ќбновите стоимость аренды фильмов в таблице film_new с учЄтом информации, что стоимость аренды всех фильмов подн€лась на 1.41*/

update film_new
set film_rental_rate = (film_rental_rate+1.41);

--«адание 4. ‘ильм с названием Back to the Future был сн€т с аренды, удалите строку с этим фильмом из таблицы film_new

delete from film_new
where film_name='Back to the Future';

--«адание 5. ƒобавьте в таблицу film_new запись о любом другом новом фильме

insert into film_new
values ('Jurasic World',2015,6.8,124);

/*«адание 6. Ќапишите SQL-запрос, который выведет все колонки из таблицы film_new, а также новую вычисл€емую колонку Ђдлительность фильма в часахї, округлЄнную до дес€тых*/

select *, round((film_duration/60.),2) as film_duration_hour
from film_new;

--«адание 7. ”далите таблицу film_new

drop table film_new;